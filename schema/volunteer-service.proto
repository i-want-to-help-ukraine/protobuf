syntax = "proto3";

package VolunteerServicePackage;

service VolunteerServiceRPC {
  rpc search(SearchVolunteersRequest) returns (VolunteersResponse) {}

  rpc getCities(GetByIdsRequest) returns (CitiesResponse) {}

  rpc getActivities(GetByIdsRequest) returns (ActivitiesResponse) {}

  rpc getSocialProviders(GetByIdsRequest) returns (SocialProvidersResponse) {}

  rpc getPaymentProviders(GetByIdsRequest) returns (PaymentProvidersResponse) {}

  rpc getVolunteerCities(VolunteerIdRequest) returns (CitiesResponse) {}

  rpc getVolunteerActivities(VolunteerIdRequest) returns (ActivitiesResponse) {}

  rpc getVolunteerSocial(VolunteerIdRequest) returns (VolunteerSocialResponse) {}

  rpc getVolunteerPaymentOptions(VolunteerIdRequest) returns (VolunteerPaymentOptionResponse) {}

  rpc getVolunteersByIds(GetByIdsRequest) returns (VolunteersResponse) {}

  rpc addPaymentOption(AddPaymentOptionRequest) returns (VolunteerResponse) {}

  rpc updatePaymentOption(UpdatePaymentOptionRequest) returns (VolunteerResponse) {}

  rpc deletePaymentOption(DeletePaymentOptionRequest) returns (VolunteerResponse) {}
}

// Shared
message GetByIdsRequest {
  repeated string ids = 1;
}

// Volunteer
message VolunteerDto {
  string id = 1;
  string name = 2;
  string verificationState = 3;
  repeated CityDto cities = 4;
  repeated ActivityDto activities = 5;
  repeated VolunteerSocialDto social = 6;
  repeated VolunteerPaymentOptionDto paymentOption = 7;
}

message VolunteersResponse {
  repeated VolunteerDto volunteers = 1;
}

message VolunteerResponse {
  VolunteerDto volunteer = 1;
}

message VolunteerIdRequest {
  string volunteerId = 1;
}

// Activity
message ActivityDto {
  string id = 1;
  string title = 2;
  VolunteerDto volunteers = 3;
}

message ActivitiesResponse {
  repeated ActivityDto activities = 1;
}

// City
message CityDto {
  string id = 1;
  string title = 2;
  VolunteerDto volunteers = 3;
}

message CitiesResponse {
  repeated CityDto cities = 1;
}

// PaymentProvider
message PaymentProviderDto {
  string id = 1;
  string title = 2;
}

message PaymentProvidersResponse {
  repeated PaymentProviderDto paymentProvider = 1;
}

// SocialProvider
message SocialProviderDto {
  string id = 1;
  string provider = 2;
  VolunteerSocialDto volunteerSocial = 3;
}

message SocialProvidersResponse {
  repeated SocialProviderDto socialProviders = 1;
}

// VolunteerSocial
message VolunteerSocialDto {
  string id = 1;
  string url = 2;
  PaymentProviderDto providers = 3;
  string volunteerId = 4;
}

message VolunteerSocialResponse {
  repeated VolunteerSocialDto volunteerSocial = 1;
}

// VolunteerPaymentOption
message VolunteerPaymentOptionDto {
  string id = 1;
  string metadata = 2;
  PaymentProviderDto paymentProviders = 3;
  string volunteerId = 4;
}

message VolunteerPaymentOptionResponse {
  repeated VolunteerPaymentOptionDto paymentOptions = 1;
}

message AddPaymentOptionRequest {}
message UpdatePaymentOptionRequest {}
message DeletePaymentOptionRequest {}

// search
message SearchVolunteersRequest {
  repeated string cityIds = 1;
  repeated string activityIds = 2;
  repeated string paymentOptionIds = 3;
}
